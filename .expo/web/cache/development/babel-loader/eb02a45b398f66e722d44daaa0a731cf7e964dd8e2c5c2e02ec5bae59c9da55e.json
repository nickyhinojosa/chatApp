{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ParsedText from 'react-native-parsed-text';\nimport { StylePropType } from \"./utils\";\nimport { useChatContext } from \"./GiftedChatContext\";\nimport { error } from \"./logging\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar WWW_URL_PATTERN = /^www\\./i;\nvar _StyleSheet$create = StyleSheet.create({\n    textStyle: {\n      fontSize: 16,\n      lineHeight: 20,\n      marginTop: 5,\n      marginBottom: 5,\n      marginLeft: 10,\n      marginRight: 10\n    }\n  }),\n  textStyle = _StyleSheet$create.textStyle;\nvar styles = {\n  left: StyleSheet.create({\n    container: {},\n    text: _objectSpread({\n      color: 'black'\n    }, textStyle),\n    link: {\n      color: 'black',\n      textDecorationLine: 'underline'\n    }\n  }),\n  right: StyleSheet.create({\n    container: {},\n    text: _objectSpread({\n      color: 'white'\n    }, textStyle),\n    link: {\n      color: 'white',\n      textDecorationLine: 'underline'\n    }\n  })\n};\nvar DEFAULT_OPTION_TITLES = ['Call', 'Text', 'Cancel'];\nexport function MessageText(_ref) {\n  var _ref$currentMessage = _ref.currentMessage,\n    currentMessage = _ref$currentMessage === void 0 ? {} : _ref$currentMessage,\n    _ref$optionTitles = _ref.optionTitles,\n    optionTitles = _ref$optionTitles === void 0 ? DEFAULT_OPTION_TITLES : _ref$optionTitles,\n    _ref$position = _ref.position,\n    position = _ref$position === void 0 ? 'left' : _ref$position,\n    containerStyle = _ref.containerStyle,\n    textStyle = _ref.textStyle,\n    linkStyleProp = _ref.linkStyle,\n    customTextStyle = _ref.customTextStyle,\n    parsePatterns = _ref.parsePatterns,\n    textProps = _ref.textProps;\n  var _useChatContext = useChatContext(),\n    actionSheet = _useChatContext.actionSheet;\n  var _onUrlPress = function onUrlPress(url) {\n    if (WWW_URL_PATTERN.test(url)) _onUrlPress(\"https://\" + url);else Linking.openURL(url).catch(function (e) {\n      error(e, 'No handler for URL:', url);\n    });\n  };\n  var onPhonePress = function onPhonePress(phone) {\n    var options = optionTitles && optionTitles.length > 0 ? optionTitles.slice(0, 3) : DEFAULT_OPTION_TITLES;\n    var cancelButtonIndex = options.length - 1;\n    actionSheet().showActionSheetWithOptions({\n      options: options,\n      cancelButtonIndex: cancelButtonIndex\n    }, function (buttonIndex) {\n      switch (buttonIndex) {\n        case 0:\n          Linking.openURL(\"tel:\" + phone).catch(function (e) {\n            error(e, 'No handler for telephone');\n          });\n          break;\n        case 1:\n          Linking.openURL(\"sms:\" + phone).catch(function (e) {\n            error(e, 'No handler for text');\n          });\n          break;\n      }\n    });\n  };\n  var onEmailPress = function onEmailPress(email) {\n    return Linking.openURL(\"mailto:\" + email).catch(function (e) {\n      return error(e, 'No handler for mailto');\n    });\n  };\n  var linkStyle = [styles[position].link, linkStyleProp == null ? void 0 : linkStyleProp[position]];\n  return _jsx(View, {\n    style: [styles[position].container, containerStyle && containerStyle[position]],\n    children: _jsx(ParsedText, {\n      style: [styles[position].text, textStyle && textStyle[position], customTextStyle],\n      parse: [].concat(_toConsumableArray(parsePatterns ? parsePatterns(linkStyle) : []), [{\n        type: 'url',\n        style: linkStyle,\n        onPress: _onUrlPress\n      }, {\n        type: 'phone',\n        style: linkStyle,\n        onPress: onPhonePress\n      }, {\n        type: 'email',\n        style: linkStyle,\n        onPress: onEmailPress\n      }]),\n      childrenProps: _objectSpread({}, textProps),\n      children: currentMessage.text\n    })\n  });\n}\nMessageText.propTypes = {\n  position: PropTypes.oneOf(['left', 'right']),\n  optionTitles: PropTypes.arrayOf(PropTypes.string),\n  currentMessage: PropTypes.object,\n  containerStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  textStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  linkStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType\n  }),\n  parsePatterns: PropTypes.func,\n  textProps: PropTypes.object,\n  customTextStyle: StylePropType\n};","map":{"version":3,"names":["PropTypes","React","Linking","StyleSheet","View","ParsedText","StylePropType","useChatContext","error","jsx","_jsx","WWW_URL_PATTERN","_StyleSheet$create","create","textStyle","fontSize","lineHeight","marginTop","marginBottom","marginLeft","marginRight","styles","left","container","text","_objectSpread","color","link","textDecorationLine","right","DEFAULT_OPTION_TITLES","MessageText","_ref","_ref$currentMessage","currentMessage","_ref$optionTitles","optionTitles","_ref$position","position","containerStyle","linkStyleProp","linkStyle","customTextStyle","parsePatterns","textProps","_useChatContext","actionSheet","onUrlPress","url","test","openURL","catch","e","onPhonePress","phone","options","length","slice","cancelButtonIndex","showActionSheetWithOptions","buttonIndex","onEmailPress","email","style","children","parse","concat","_toConsumableArray","type","onPress","childrenProps","propTypes","oneOf","arrayOf","string","object","shape","func"],"sources":["C:\\Users\\nicky\\Desktop\\Aplicaciones MÃ³viles I\\ChatApp\\node_modules\\react-native-gifted-chat\\src\\MessageText.tsx"],"sourcesContent":["import PropTypes from 'prop-types'\nimport React from 'react'\nimport {\n  Linking,\n  StyleSheet,\n  View,\n  TextProps,\n  StyleProp,\n  ViewStyle,\n  TextStyle,\n} from 'react-native'\n\nimport ParsedText from 'react-native-parsed-text'\nimport { LeftRightStyle, IMessage } from './Models'\nimport { StylePropType } from './utils'\nimport { useChatContext } from './GiftedChatContext'\nimport { error } from './logging'\n\nconst WWW_URL_PATTERN = /^www\\./i\n\nconst { textStyle } = StyleSheet.create({\n  textStyle: {\n    fontSize: 16,\n    lineHeight: 20,\n    marginTop: 5,\n    marginBottom: 5,\n    marginLeft: 10,\n    marginRight: 10,\n  },\n})\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {},\n    text: {\n      color: 'black',\n      ...textStyle,\n    },\n    link: {\n      color: 'black',\n      textDecorationLine: 'underline',\n    },\n  }),\n  right: StyleSheet.create({\n    container: {},\n    text: {\n      color: 'white',\n      ...textStyle,\n    },\n    link: {\n      color: 'white',\n      textDecorationLine: 'underline',\n    },\n  }),\n}\n\nconst DEFAULT_OPTION_TITLES = ['Call', 'Text', 'Cancel']\n\nexport interface MessageTextProps<TMessage extends IMessage> {\n  position?: 'left' | 'right'\n  optionTitles?: string[]\n  currentMessage: TMessage\n  containerStyle?: LeftRightStyle<ViewStyle>\n  textStyle?: LeftRightStyle<TextStyle>\n  linkStyle?: LeftRightStyle<TextStyle>\n  textProps?: TextProps\n  customTextStyle?: StyleProp<TextStyle>\n  parsePatterns?: (linkStyle: TextStyle) => []\n}\n\nexport function MessageText<TMessage extends IMessage = IMessage> ({\n  currentMessage = {} as TMessage,\n  optionTitles = DEFAULT_OPTION_TITLES,\n  position = 'left',\n  containerStyle,\n  textStyle,\n  linkStyle: linkStyleProp,\n  customTextStyle,\n  parsePatterns,\n  textProps,\n}: MessageTextProps<TMessage>) {\n  const { actionSheet } = useChatContext()\n\n  // TODO: React.memo\n  // const shouldComponentUpdate = (nextProps: MessageTextProps<TMessage>) => {\n  //   return (\n  //     !!currentMessage &&\n  //     !!nextProps.currentMessage &&\n  //     currentMessage.text !== nextProps.currentMessage.text\n  //   )\n  // }\n\n  const onUrlPress = (url: string) => {\n    // When someone sends a message that includes a website address beginning with \"www.\" (omitting the scheme),\n    // react-native-parsed-text recognizes it as a valid url, but Linking fails to open due to the missing scheme.\n    if (WWW_URL_PATTERN.test(url))\n      onUrlPress(`https://${url}`)\n    else\n      Linking.openURL(url).catch(e => {\n        error(e, 'No handler for URL:', url)\n      })\n  }\n\n  const onPhonePress = (phone: string) => {\n    const options =\n      optionTitles && optionTitles.length > 0\n        ? optionTitles.slice(0, 3)\n        : DEFAULT_OPTION_TITLES\n    const cancelButtonIndex = options.length - 1\n    actionSheet().showActionSheetWithOptions(\n      {\n        options,\n        cancelButtonIndex,\n      },\n      (buttonIndex?: number) => {\n        switch (buttonIndex) {\n          case 0:\n            Linking.openURL(`tel:${phone}`).catch(e => {\n              error(e, 'No handler for telephone')\n            })\n            break\n          case 1:\n            Linking.openURL(`sms:${phone}`).catch(e => {\n              error(e, 'No handler for text')\n            })\n            break\n        }\n      }\n    )\n  }\n\n  const onEmailPress = (email: string) =>\n    Linking.openURL(`mailto:${email}`).catch(e =>\n      error(e, 'No handler for mailto')\n    )\n\n  const linkStyle = [\n    styles[position].link,\n    linkStyleProp?.[position],\n  ]\n  return (\n    <View\n      style={[\n        styles[position].container,\n        containerStyle && containerStyle[position],\n      ]}\n    >\n      <ParsedText\n        style={[\n          styles[position].text,\n          textStyle && textStyle[position],\n          customTextStyle,\n        ]}\n        parse={[\n          ...(parsePatterns ? parsePatterns(linkStyle as TextStyle) : []),\n          { type: 'url', style: linkStyle, onPress: onUrlPress },\n          { type: 'phone', style: linkStyle, onPress: onPhonePress },\n          { type: 'email', style: linkStyle, onPress: onEmailPress },\n        ]}\n        childrenProps={{ ...textProps }}\n      >\n        {currentMessage!.text}\n      </ParsedText>\n    </View>\n  )\n}\n\nMessageText.propTypes = {\n  position: PropTypes.oneOf(['left', 'right']),\n  optionTitles: PropTypes.arrayOf(PropTypes.string),\n  currentMessage: PropTypes.object,\n  containerStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType,\n  }),\n  textStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType,\n  }),\n  linkStyle: PropTypes.shape({\n    left: StylePropType,\n    right: StylePropType,\n  }),\n  parsePatterns: PropTypes.func,\n  textProps: PropTypes.object,\n  customTextStyle: StylePropType,\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}